<div class="h-dvh grid lg:grid-cols-2 md:grid-cols-1">
    <!-- Left grid -->
    <div class="bg-n-1 flex flex-col justify-center gap-3 lg:ps-28 lg:pe-40 lg:py-20 lg:col-span-1 md:col-span-full p-12 lg:items-start items-center">
        <p class="h1 text-n-0 font-bold lg:text-start text-center">Interview jitters ?</p>
        <p class="h2 text-n-0 font-bold lg:text-start text-center">We got you.</p>
        <div class="text-n-0 text-lg pt-5 leading-relaxed lg:text-start text-center">
            Embark on a quest to crack your next interview and land your dream job.<br><br>
            <p class="type-writer text-white"></p>
        </div>
    </div>

    <!-- Right grid -->
    <div class="flex flex-col lg:ms-16 lg:me-40 my-20 gap-3 px-10 lg:col-span-1 md:col-span-full">
        <!-- Logo -->
        <div class="w-full grid justify-items-end">
            <div class="flex flex-row items-center gap-x-1">
                <img [src]="interviewquest_logo" alt="interviewquest_logo" [width]="40" class="p-1"/>
                <span class="text-xl font-semibold">InterviewQuest</span>
            </div>
        </div>

        <!-- Form -->
        <form [formGroup]="signUpForm" (ngSubmit)="processEmailPasswordSignUp()" class="pt-20">
            <p class="h3">Create an account</p>
            <div class="mt-6">
                <!-- Name-->
                <div class="grid grid-cols-2 gap-3" formGroupName="name">
                    <div>
                        <input
                            class="form-input"
                            type="text"
                            placeholder="first name"
                            formControlName="firstName"
                        >
                        <div class="mt-3" *ngIf="signUpForm.get('name.firstName')?.touched && signUpForm.get('name.firstName')?.invalid">
                            <p
                                class="text-xs text-n-2"
                                *ngIf="signUpForm.get('name.firstName')?.hasError('required')">
                                This field is required!
                            </p>
                            <p 
                                class="text-xs text-n-2"
                                *ngIf="signUpForm.get('name.firstName')?.hasError('minlength')">
                                First name must be minimally 3 characters long
                            </p>
                        </div>
                    </div>
                    <div>
                        <input
                            class="form-input"
                            type="text"
                            placeholder="last name"
                            formControlName="lastName"
                        >
                        <div class="mt-3" *ngIf="signUpForm.get('name.lastName')?.touched && signUpForm.get('name.lastName')?.invalid">
                            <p 
                                class="text-xs text-n-2"
                                *ngIf="signUpForm.get('name.lastName')?.hasError('required')">
                                This field is required!
                            </p>
                            <p 
                                class="text-xs text-n-2"
                                *ngIf="signUpForm.get('name.lastName')?.hasError('minlength')">
                                Last name must be minimally 3 characters long
                            </p>
                        </div>
                    </div>
                </div>
                <!-- Email -->
                <div class="mt-6">
                    <input
                        class="form-input"
                        type="email"
                        placeholder="myemail@example.com"
                        autocomplete="email"
                        formControlName="email"/>
                    <div class="mt-3" *ngIf="signUpForm.get('email')?.touched && signUpForm.get('email')?.invalid">
                        <p 
                            class="text-xs text-n-2"
                            *ngIf="signUpForm.get('email')?.hasError('required')">
                            This field is required!
                        </p>
                    </div>
                </div>
                <!-- Password -->
                <div class="mt-6">
                    <div class="relative">
                        <input
                            placeholder="••••••••"
                            class="form-input"
                            formControlName="password"
                            [type]="passwordVisible ? 'text' : 'password'"
                            autocomplete="current-password"/>
                        <div class="absolute bottom-3 right-5" (click)="togglePasswordVisibility()">
                            <div *ngIf="passwordVisible">
                                <svg class="w-6 h-6 text-n-2 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-width="1" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
                                    <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                                </svg>  
                            </div>
                            <div *ngIf="!passwordVisible">
                                <svg class="w-6 h-6 text-n-2 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                                </svg> 
                            </div>  
                        </div>   
                    </div>
                    <div class="mt-3" *ngIf="signUpForm.get('password')?.touched && signUpForm.get('password')?.invalid">
                        <p 
                            class="text-xs text-n-2"
                            *ngIf="signUpForm.get('password')?.hasError('required')">
                            This field is required!
                        </p>
                        <p 
                            class="text-xs text-n-2"
                            *ngIf="signUpForm.get('password')?.hasError('passwordValidator')">
                            Must contain at least 1 number, and at least 8 or more characters
                        </p>
                    </div>
                </div>
                
                <!-- Sign up by email/password -->
                <button
                    class="orange-button-01 mt-10 w-full"
                    id="signup-button"
                    type="submit"
                    [disabled]="signUpForm.invalid">Let's Go!
                </button>
            </div>
        </form>

        <!-- Divider -->
         <div class="flex items-center my-4">
            <hr class="flex-grow border-t border-stroke-1">
            <span class="mx-2 text-n-2 text-sm">or</span>
            <hr class="flex-grow border-t border-stroke-1">
        </div>

        <!-- Sign up using Google -->
        <button 
            class="orange-outline-button-01 w-full flex items-center gap-x-2"
            type="button"
            (click) = "processGoogleSignUp()">
            <svg class="w-6 h-6 text-n-2 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                <path fill-rule="evenodd" d="M12.037 21.998a10.313 10.313 0 0 1-7.168-3.049 9.888 9.888 0 0 1-2.868-7.118 9.947 9.947 0 0 1 3.064-6.949A10.37 10.37 0 0 1 12.212 2h.176a9.935 9.935 0 0 1 6.614 2.564L16.457 6.88a6.187 6.187 0 0 0-4.131-1.566 6.9 6.9 0 0 0-4.794 1.913 6.618 6.618 0 0 0-2.045 4.657 6.608 6.608 0 0 0 1.882 4.723 6.891 6.891 0 0 0 4.725 2.07h.143c1.41.072 2.8-.354 3.917-1.2a5.77 5.77 0 0 0 2.172-3.41l.043-.117H12.22v-3.41h9.678c.075.617.109 1.238.1 1.859-.099 5.741-4.017 9.6-9.746 9.6l-.215-.002Z" clip-rule="evenodd"/>
            </svg>
            Sign up with Google
        </button>

        <div class="text-sm text-n-2 dark:text-n-2 text-start pt-8">
            Already have an account?
            <a 
                class="font-semibold hover:underline hover:underline-offset-4" 
                [routerLink]="['/signin']">
                Sign in
            </a>
        </div>

    </div>
</div>
<div *ngIf="signUpFailed" class="error-message">
    {{ errorMessage }}
</div>